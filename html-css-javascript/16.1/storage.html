<body>
    <h2>Storage</h2>
    <input type="text" id="input"/>
    local: <input type="checkbox" id="local"/>
    <div id="show"></div>
    <input type="button" value="store"
        onclick="saveStorage('input');"/>
    <input type="button" value="read"
        onclick="loadStorage('show');"/>
    <script type="text/javascript">
        var saveStorage = function(id)
        {
            var checked = document.getElementById("local").checked;
            var storage = checked ? localStorage : sessionStorage;
            var target = document.getElementById(id);
            storage.setItem("message", target.value);
        }
        var loadStorage = function(id)
        {
            var checked = document.getElementById("local").checked;
            var storage = checked ? localStorage : sessionStorage;
            var target = document.getElementById(id);
            target.innerHTML = storage.getItem("message");
        }
    </script>
</body>